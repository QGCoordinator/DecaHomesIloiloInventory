<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Housing Project Management</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            width: 80%;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            background-color: #4CAF50;
            color: white;
            border: none;
            margin-right: 5px;
            font-size: 16px;
            border-radius: 4px;
        }
        .tab.active {
            background-color: #45a049;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-weight: bold;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .form-group button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .form-group button:hover {
            background-color: #45a049;
        }
        .success-message, .error-message {
            display: none;
            padding: 10px;
            margin-top: 20px;
            text-align: center;
            border-radius: 4px;
        }
        .success-message {
            background-color: #4CAF50;
            color: white;
        }
        .error-message {
            background-color: #f44336;
            color: white;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border: 1px solid #ddd;
        }
        th {
            background-color: #4CAF50;
            color: white;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<!-- Login Section -->
<div id="login-section" class="container">
    <h2>Login</h2>
    <form id="login-form">
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
        </div>
        <div class="form-group">
            <button type="submit">Login</button>
        </div>
    </form>
    <div id="login-error" class="error-message">
        Invalid username or password.
    </div>
</div>

<!-- Main Content Section (Hidden until logged in) -->
<div id="main-content-section" class="container hidden">
    <h2>Housing Project Management</h2>

    <!-- Tabs -->
    <div class="tabs">
        <button class="tab active" onclick="switchTab('inventory-tab')">Inventory</button>
        <button class="tab" onclick="switchTab('loan-calculator-tab')">Loan Calculator</button>
        <button class="tab" onclick="switchTab('sold-units-tab')">Sold Units</button>
        <button class="tab" onclick="switchTab('user-tab')">Users</button>
    </div>

    <!-- Inventory Tab -->
    <div id="inventory-tab" class="tab-content active">
        <h3>Inventory</h3>
        <form id="project-form">
            <!-- Project Details -->
            <div class="form-group">
                <label for="project">Project Name:</label>
                <input type="text" id="project" name="project" required>
            </div>
            <div class="form-group">
                <label for="site">Site:</label>
                <input type="text" id="site" name="site" required>
            </div>
            <div class="form-group">
                <label for="unitType">Unit Type:</label>
                <input type="text" id="unitType" name="unitType" required>
            </div>
            <div class="form-group">
                <label for="block">Block:</label>
                <input type="text" id="block" name="block" required>
            </div>
            <div class="form-group">
                <label for="lot">Lot:</label>
                <input type="text" id="lot" name="lot" required>
            </div>
            <div class="form-group">
                <label for="lotArea">Lot Area:</label>
                <input type="number" id="lotArea" name="lotArea" required>
            </div>
            <div class="form-group">
                <label for="houseType">House Type:</label>
                <input type="text" id="houseType" name="houseType" required>
            </div>
            <div class="form-group">
                <label for="contractPrice">Contract Price:</label>
                <input type="number" id="contractPrice" name="contractPrice" required>
            </div>

            <!-- Additional Fields -->
            <div class="form-group">
                <label for="pc1">PC1:</label>
                <input type="text" id="pc1" name="pc1" required>
            </div>
            <div class="form-group">
                <label for="pc2">PC2:</label>
                <input type="text" id="pc2" name="pc2" required>
            </div>
            <div class="form-group">
                <label for="too">TOO:</label>
                <input type="text" id="too" name="too" required>
            </div>
            <div class="form-group">
                <label for="dp">DP:</label>
                <input type="number" id="dp" name="dp" required>
            </div>
            <div class="form-group">
                <label for="reservation">Reservation:</label>
                <input type="number" id="reservation" name="reservation" required>
            </div>
            <div class="form-group">
                <label for="equityPromo">Equity Promo:</label>
                <input type="number" id="equityPromo" name="equityPromo" required>
            </div>
            <div class="form-group">
                <label for="equityPayment">Equity Payment:</label>
                <input type="number" id="equityPayment" name="equityPayment" required>
            </div>
            <div class="form-group">
                <label for="term">Term:</label>
                <input type="number" id="term" name="term" required>
            </div>
            <div class="form-group">
                <label for="monthlyEquity">Monthly Equity:</label>
                <input type="number" id="monthlyEquity" name="monthlyEquity" required>
            </div>
            <div class="form-group">
                <label for="loanAmount">Loan Amount:</label>
                <input type="number" id="loanAmount" name="loanAmount" required>
            </div>

            <!-- Loan Specifics -->
            <div class="form-group">
                <label for="maHdmf">MA (HDMF):</label>
                <input type="number" id="maHdmf" name="maHdmf" required>
            </div>
            <div class="form-group">
                <label for="gmiHdmf">GMI (HDMF):</label>
                <input type="number" id="gmiHdmf" name="gmiHdmf" required>
            </div>
            <div class="form-group">
                <label for="maBdo">MA (BDO):</label>
                <input type="number" id="maBdo" name="maBdo" required>
            </div>
            <div class="form-group">
                <label for="gmiBdo">GMI (BDO):</label>
                <input type="number" id="gmiBdo" name="gmiBdo" required>
            </div>
            <div class="form-group">
                <label for="maRcBc">MA (RCBC):</label>
                <input type="number" id="maRcBc" name="maRcBc" required>
            </div>
            <div class="form-group">
                <label for="gmiRcBc">GMI (RCBC):</label>
                <input type="number" id="gmiRcBc" name="gmiRcBc" required>
            </div>
            <div class="form-group">
                <label for="status">Status:</label>
                <select id="status" name="status" required>
                    <option value="available">Available</option>
                    <option value="reserved">Reserved</option>
                    <option value="sold">Sold</option>
                </select>
            </div>
            <div class="form-group">
                <button type="button" onclick="saveProjectData()">Submit</button>
            </div>
        </form>

        <div id="success-message" class="success-message">
            Your project has been submitted successfully.
        </div>

        <div id="error-message" class="error-message">
            There was an error submitting your project. Please try again.
        </div>

        <!-- Inventory Data Table -->
        <table id="inventory-table">
            <thead>
                <tr>
                    <th>Project Name</th>
                    <th>Site</th>
                    <th>Unit Type</th>
                    <th>Block</th>
                    <th>Lot</th>
                    <th>Lot Area</th>
                    <th>House Type</th>
                    <th>Contract Price</th>
                    <th>PC1</th>
                    <th>PC2</th>
                    <th>TOO</th>
                    <th>DP</th>
                    <th>Reservation</th>
                    <th>Equity Promo</th>
                    <th>Equity Payment</th>
                    <th>Term</th>
                    <th>Monthly Equity</th>
                    <th>Loan Amount</th>
                    <th>MA (HDMF)</th>
                    <th>GMI (HDMF)</th>
                    <th>MA (BDO)</th>
                    <th>GMI (BDO)</th>
                    <th>MA (RCBC)</th>
                    <th>GMI (RCBC)</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="inventory-table-body">
                <!-- Inventory data rows will appear here -->
            </tbody>
        </table>
    </div>

<script>
// Google Sheets API URL (Your provided URL)
const API_URL = 'https://script.google.com/macros/s/AKfycbz0cm8rB7tOh_nHY7Fxje7f5paFB9pypAxiYDEWgpAEwlVvfidgZ3p0XSezGaqI1ivG/exec';

// Function to save project data to Google Sheets via the API
function saveProjectData() {
    const projectData = {
        project: document.getElementById('project').value,
        site: document.getElementById('site').value,
        unitType: document.getElementById('unitType').value,
        block: document.getElementById('block').value,
        lot: document.getElementById('lot').value,
        lotArea: document.getElementById('lotArea').value,
        houseType: document.getElementById('houseType').value,
        contractPrice: document.getElementById('contractPrice').value,
        pc1: document.getElementById('pc1').value,
        pc2: document.getElementById('pc2').value,
        too: document.getElementById('too').value,
        dp: document.getElementById('dp').value,
        reservation: document.getElementById('reservation').value,
        equityPromo: document.getElementById('equityPromo').value,
        equityPayment: document.getElementById('equityPayment').value,
        term: document.getElementById('term').value,
        monthlyEquity: document.getElementById('monthlyEquity').value,
        loanAmount: document.getElementById('loanAmount').value,
        maHdmf: document.getElementById('maHdmf').value,
        gmiHdmf: document.getElementById('gmiHdmf').value,
        maBdo: document.getElementById('maBdo').value,
        gmiBdo: document.getElementById('gmiBdo').value,
        maRcBc: document.getElementById('maRcBc').value,
        gmiRcBc: document.getElementById('gmiRcBc').value,
        status: document.getElementById('status').value
    };

    fetch(API_URL, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify([projectData]) // Send data as JSON
    })
    .then(response => response.json())
    .then(data => {
        if (data === 'Success') {
            document.getElementById('success-message').style.display = 'block';
            document.getElementById('error-message').style.display = 'none';
            clearForm();
        } else {
            document.getElementById('error-message').style.display = 'block';
        }
    })
    .catch(error => {
        document.getElementById('error-message').style.display = 'block';
    });
}

// Function to clear the form after submission
function clearForm() {
    document.getElementById('project-form').reset();
}
</script>

</body>
</html>
